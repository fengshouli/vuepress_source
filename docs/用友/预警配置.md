# 平台协助预警操作

## 1.负责人

> 同步预警类型-陈立豪
>
> 日常环境创建左侧节点树-陈立豪

> 同步消息模板-陈建明

## 2.增加预警类型树

### 需要提供

* 微服务域名:PM
* 服务编码及名称:PRPR:采购,PRJB:收入,PRJC:立项

举例.您好,请帮忙在日常环境,预警类型中,增加个左侧节点.微服务域名:PM,服务编码及名称{PRJC:项目立项}

## 2-1.同步预警树节点到预发

### 需要提供

* 微服务域名:PM
* 服务编码及名称:PRPR:采购,PRJB:收入,PRJC:立项

举例.您好,请帮忙同步日常的预警左侧树节点.微服务域名:PM,服务编码及名称{PRJC:项目立项}

## 2-2.同步预警树节点到生产

### 需要提供

* 微服务域名:PM
* 服务编码及名称:PRPR:采购,PRJB:收入,PRJC:立项

**需要提前一天发邮件,和同步预警类型一起,详见第5步.**

举例.您好,我们在本周五,8月13号上生产.请帮忙同步预发的预警类型,"advance_associate_contract",到生产环境.微服务域名,"PM",对应的应用"PRJC",接口实际值"https://yonpm.diwork.com/prjc/yonpm/prewarning/prewarnings/AdvanceWarning",左侧领域树生产环境还没有,请帮忙联系孙敬宇添加.微服务域名:PM,服务编码及名称{PRJC:项目立项}

## 3.同步"预警类型"到"预发环境"

与陈立豪联系同步,需要提供

* 预警类型编码:例:receive_plan_warning
* 域名变量

<font color="red">注意!!!</font>在预发环境中,域名是个变量,与陈立豪联系,让他先联系人增加域名变量.例如:yonpm_pric:https://yonpm-pre.diwork.com/pric/yonpm/

举例,您好,请帮忙同步日常的预警类型,"receive_plan_warning",到预发环境.域名变量为{yonpm_pric:https://yonpm-pre.diwork.com/pric/yonpm/}.域名变量还没有需要新建,/域名变量需要变更为新的/域名变量已经创建过,可以直接使用.

帮忙同步日常的预警类型,"advance_associate_contract",到预发环境.域名变量为{yonpm_prjc:https://yonpm-pre.diwork.com/prjc/}.域名变量还没有需要新建.

## 4.同步"预警消息模板"到"预发环境".

联系陈建明,需要提供:

* 模板编码:receive_plan_warning

同步预发时候,需要发邮件,

发邮件并抄送他的领导周新心，宗腾飞.发送后和他联系确认.

例:您好,请帮忙同步日常上的消息模板到预发环境.预警类型编码:advance_associate_contract.

## 5.同步"预警类型"到"生产环境"

生产环境中,域名是直接写上的,并没有变量一说,所以需要提供具体的域名.

### 需要提供:

* 预警类型编码:receive_plan_warning
* 对应的应用编码:PRIC
* 微服务域名:PM
* 接口实际值:域名+实际url

### 可能遇到的问题:

* 如果没有预警任务节点,需要让陈立豪联系孙敬宇增加.

例:您好,我们在本周五,8月13号上生产.请帮忙同步预发的预警类型,"advance_associate_contract",到生产环境.微服务域名,"PM",对应的应用"PRJC",接口实际值"https://yonpm.diwork.com/prjc/yonpm/prewarning/prewarnings/AdvanceWarning",左侧领域树生产环境还没有,请帮忙联系孙敬宇添加.微服务域名:PM,服务编码及名称{PRJC:项目立项}

## 6.同步"预警消息模板"到"生产环境".

联系陈建明,需要提供:

* 模板编码:receive_plan_warning

同步生产时候,需要发邮件,让他们提工单,咱们拿到工单号.

发邮件并抄送他的领导周新心，宗腾飞.发送后和他联系确认.

例:您好,我们在本周五,8月13号上生产.请帮忙同步预发的预警类型消息模板,"advance_associate_contract",到生产环境.微服务域名,"PM",应用”PRJC".

